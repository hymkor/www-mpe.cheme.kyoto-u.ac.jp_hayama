<HTML>
<HEAD><TITLE>YODAN part 6 of NYAOS</TITLE></HEAD>
<BODY bgcolor="#000000" text="#FFFFFF" link="#00FF00" vlink="#00AA00" alink = "#FF0000">
<TABLE BORDER=10>
<TR><TD><FONT SIZE=+2>葉山文書</FONT><BR>12/25〜1/14の発狂篇</TD>
</TABLE>
</CENTER>
<ul>
  <li> <a href="#whypic">whypic</a>(1/14)
  <li> <a href="#vfatifs">VFAT.IFS ためしてみました</a>(1/8)
  <li> <a href="#toobusy">さらに忙しいはずなのにぃぃぃ</a>(1/7)
  <li> <a href="#busy">なかなか忙しい</a>(1/6)
  <li> <a href="#vfatsync">あけましておめでとうございます</a>(1/5)
  <li> <a href="#jobs">jobs</a>(12/30)
  <li> <a href="#stat.h">stat.h</a>(12/27)
  <li> <a href="#coredump">はははは</a>(12/26)
  <li> <a href="#piki">＃＃</a>(12/25pm)
  <li> <a href="#xmas">メリークルシミマス</a>(12/25am)
</ul>
<img alt="▽" src="/image/s11.gif"><a href="yodan.html">目次へ</a>
<hr>

<h3><a name="whypic">whypic</a>(1/14)</h3>

僕の友達に<a href="mailto:yamaji@pine.kuee.kyoto-u.ac.jp">山地君</a>
という人がいます。この人は研究で圧縮をやってられるんですけど、
今度、すごい圧縮率の画像圧縮プログラムをベクターデザインに
upload します。サイズがPI形式やHG形式の6〜7割くらいになります。
可逆圧縮としては、おそらく世界一でしょう。
<P>
で、名前は「whypic」っていいます。ちなみに名付け親は僕です(^^)。
なぜ「whypic」って名前かというと…、これすごく遅いんだそうです。
Pentium 166MHz クラスで16色の画像で約８秒、256色で１分になってしまいます。
あと、致命的なのが、32K色以上に対応できないこと。
なんか、天文学的な計算時間になってしまうとの事です。
<P>
なぜ、こんな話をここでしたかというと、山地君は FreeBSD(98)ユーザなので、
Win95 と BSD の実行ファイルは作っていますが、
当然ながら、OS/2 なぞサポート外です。
そこで、何とか OS/2 のマルチメディア機能のプラグインを
僕の手で作れないかなぁと思ったわけです。
でも、あれって、emx/gcc では無理なのかなぁ。
<P>
ちなみに山地君もこの３月に就職ですので、連絡するなら、今のうちに。
<P ALIGN=CENTER>
<FONT COLOR=YELLOW>≡★</FONT>
</P>
OS/2 は結局インストールしなおしました。
うちの OS/2、前にスワップファイルがオーバーフローを何回も起してから
調子が悪くなってきたんです。考えてみれば、JPGファイルを mmbrowse で
数百(!!)枚も観てたら、そりゃあふれるわな。
<BR>＃ 何を観てたか、尋くなー！<BR>
インストールしなおしたついでに、ランチパッドを復活させました。
マウスっていうのは、縦より横の方が動かしやすいんですよね。
だから、ランチパッドを右端に縦置しておくと、結構使い勝手がいいです。
でも、view.exe を起動すると隠れて困るんですよね。
そこは launchhk.exe という、マウスカーソルを端に置くと、
ランチパッドを最前面に置いてくれるツールで解決しました。
<P>
NYAOS ですが、次の Release では逆クォートはサポートしません。
というのも、逆クォートは結構コード書き変え量が多いので、
絶対バグというか問題が出ると思うのです。
そこで、次のバージョン(1.34)は、バグフィックスやら、バグを生じにくい
変更だけに専念して Official Release とし、その次のバージョン(1.35)で
Beta Release として 逆クォートをやろうと思います。
<P>
話は変わりますが、
僕の場合、研究室に OS/2 マシンが無いので、普段 OS/2 は使わないんですよね。
使う時といえば、(趣味の)プログラミングしている時だけだったりするという。
だから、どうしてもテスト量が足りなくなってしまうわけです。
ですので、そこのところ御理解くださいませ ＞みなさま。
<BR>＃ 別に誰かから非難が来たわけではありません。
<P ALIGN=CENTER>
<FONT COLOR=YELLOW>≡★</FONT>
</P>
最近、<a href="mailto:hamamura@chemea.cheme.kyoto-u.ac.jp">濱村君</a>という、
これまた、山地君と並ぶ僕のイジメッコに「ウテナ」のビデオを貸してもらって、
初めてウテナを見ました。
<P ALIGN=CENTER>
<FONT COLOR="#FF00FF">
回転するバラって、このことだったのかぁぁぁ
</FONT><BR>
<FONT COLOR="#FFFF00">総</FONT>
<FONT COLOR="#00FF00">天</FONT>
<FONT COLOR="#00FFFF">然</FONT>
<FONT COLOR="#0000FF">シ</FONT>
<FONT COLOR="#FF8800">ョ</FONT>
<FONT COLOR="#FF0000">ッ</FONT>
<FONT COLOR="#FFFFFF">ク</FONT>
</P>
表現が古い？<BR>
＃ FM77AV なんか知らないかな、みんな
<P ALIGN=CENTER>
<FONT COLOR=YELLOW>≡★</FONT>
</P>
めずらしく、ベクターデザインにOS/2関連で新作が5作も入ってました。
<PRE>
Gismo: Homepage作成の際にあると便利なColor Coordinating Utility
MKRESDLL: リソースのみのDLLを作成するためのプログラム
Visual Grep: Grepコマンドをもっと簡単に!
neko: 「動くダス」外部アニメファイル
うごくダス: アニメするアクセサリ
</PRE>
なんか、<FONT COLOR="#FF00FF">[軟弱OS/2]</FONT>っぽいのも入ってますねぇ。
<P ALIGN=CENTER>
<FONT COLOR=YELLOW>≡★</FONT>
</P>
<a href="http://www.asahi-net.or.jp/~ki4s-nkmr/">中村正三郎</a>さんのページを見てたら、
Linux(98)の話題がありました。
そう、<a href="http://www.kuis.kyoto-u.ac.jp/~kmc/">ＫＭＣ</a>
(京大マイコンクラブ)では、
今 Linux の98移植を新規にやっているらしいのです。
僕自身は動いているとこ、実は見たことありませんが、
有志の一人の井伊さんから話は聞いていました（伝聞でしか
知らないのは、僕がＫＭＣを3年前にやめちゃったからです）。
井伊さん＆学部生のみんな、がんばれ！
陰ながらだけ、応援しているぞ（別名「精神的支援」、一般には「何もしない」といい、
一部の人間は「生暖かい目で見守る」と表現する。
でも、それ以前に彼らはこのページ読んでないって）。
<P>
98といえば、NEC-OS/2 で NYAOS 動くのかなぁ？ 動作の可否を確認した方、
おられましたら、メイルください。Linux も前から、やろうと思っている
んですけど、学校で Solaris 使っているから、十分だという気になるんですよね。
<P>
なんか、今回「こんな友達いるんだぞー」って自慢ばかりしてるな(笑)。
僕もがんばんなきゃ。

<HR>

<h3><a name="vfatifs">VFAT.IFS ためしてみました</a>(1/8)</h3>

VFAT.IFS 試してみました。
おお「Program Files」と、ちゃーんと見えるぞ。
しかし、半角カナとか日本語とかは、化け化けでしたな。
ドライブ全体がリードオンリーになってしまうのが、ちょっとつらいので、
結局、外してしまいました。
<P>
VFAT.IFS とは関係無しに、僕の OS/2 がだんだん不安定になってきました。
ぼちぼち、再インストールしなおす必要がありそうです。
ちょっと、時間ができたから、今晩でもやろうかな…。
でないと、NYAOS 開発にさしさわる。<BR>
＃ 研究がはかどったりして。

<HR>

<h3><a name="toobusy">さらに忙しいはずなのにぃぃぃぃ</a>(1/7)</h3>

ちょっと、私的な事を書きますと、急に予定外の締切が湧いてきたもので、
今年は頭から非常に情緒不安定になって、キーボードが暴走してしまいました。
こんな日記に毎回あたたかい follow ありがとうございます＞宇野さん<BR>
（いや、ほんとに）
<P>
ついに、<TT>VFAT.IFS</TT>なるものが出てしまいましたねぇ。
まだ、Readonly だとはいえ、OS/2 の民の願いがまた一つかないそうですね。
UniCode に対応しているかについては、今日帰ったら、
さっそく試してみようと思います(忙しいんとちゃうんかい)。
VFATSYNC？ ううむ、早くも存在価値が益々怪しくなってしまった。
<P>
ところで、UniCode のことですが、できれば滅びて欲しいものです。
UniCode のメリットといえば、全ての文字を均一サイズ 16bit で
表せるだけと思っていたのですが、
先日、ＳＥやってる、高校の先輩にお話を聞いたら、早くも
16bitに収まらなくて、可変長サイズになりはてているというお話。
<P ALIGN=CENTER>
<FONT COLOR=YELLOW>「だから 32bit にしろって言ったのにぃぃぃ」</FONT>
</P>

<HR>

<h3><a name="busy">なかなか忙しい</a>(1/6)</h3>

2nd Author として参加する化学工学年会に提出する要旨の締切が
今週なので、当分 OS/2 と遊ぶことができそうにありません。
しかも、修了までの研究予定表を明日(1/7)に提出しなくちゃいけないし…。
(ちなみに修論発表は 3/1。提出は、その一週間後)
<P>
でも、こういう時に限って、アイデアとか受かんで、無い時間を
ひねり出して、いらんことしてしまうもんですよね。
<P ALIGN=CENTER>
<FONT COLOR=YELLOW>≡★</FONT>
</P>
そうそう、去年に書きそびれたことを今のうちに書きます。
例の fg , bg コマンドですが
拡張して「<TT>fg/bg &quot;タイトルキーワード&quot;</TT>」なんていう文法を作りました。
要は引数に数値以外の文字列を指定すると、それをタイトルに含む
ウインドウをアクティブ/最小化するだけです。
<P>
これを使えば、NYAOSを使っていて、ふと「あ、めもが書きたい」と思った時に
「<TT>fg めも</TT>」と入力して(当然前もって<TT>alias m=&quot;fg めも&quot;</TT>ね)
最小化している「めもめも／２」を呼び出したり、
「ああ、デスクトップが満タンだぁ」と思った時に「<TT>bg Mule</TT>」で
Mule を隠したりできます。
<P ALIGN=CENTER>
<FONT COLOR=YELLOW>ええい、マウス使うか、<BR>
<TT>ALT+TAB</TT>すりゃ、済むことだろうに</FONT><BR>
<FONT COLOR=#FF00FF>その通りでございます。<BR>
<TT>m(__)m</TT></FONT>
</P>
何か、最近、実用になるような、ならないような事ばかりしてますねぇ(笑)<BR>
でも、野望が
<P ALIGN=CENTER>
<FONT COLOR=YELLOW SIZE=+1>コマンドラインからのワークプレイスシェルの支配</FONT>
</P>
なんで許してください(なぜ、許しを請う!?)。
でないと、他のシェルに負けちゃうもんで(笑)。
（しかし、一方で、こんな命令、別に NYAOS に内蔵させる
必要も無いような気もしてきたりして…<TT>;-</TT>）
<P>
VFATSYNC ですが、あの仕様だと、一回、95のデスクトップがあるドライブで
実行すれば、もう用済みですねぇ。やはり、95無しで VFAT を読むように
しないといけないなぁ。実は、ずっと前に「Windows95 の中のDOS」を
続編込みで買っておいたのですが、未だ埃をかぶっています。
ディレクトリを raw で読むことができれば実現できるとは
思うのですが、OS/2 では可能なんだろうか。

<HR>

<h3><a name="vfatsync">あけましておめでとうございます</a>(1/5)</h3>

９８年になりました。さっそく、学会のレジュメの締切がせまっています。
えらいこっちゃ。今回、僕は 2nd author なんですけどね。
<P>
<a href="./ell.html#VFATSYNC">VFATSYNC</a> というツールを作りました。
ディスク上にある全ての VFAT-longname を EA-longname にコンバートする REXXスクリプトです。
と書けば、さぞすごいかのように見えますが、実際は、
Windows95 の DOS Prompt で「<TT>dir /s \ &gt;vfardir</TT>」とディレクトリ
構造をファイルへ出力してもらって、それを OS/2 側で
読んで各ファイルの拡張属性に反映させるというだけのしろものです。<BR>
　よく読めばお分かりになると思いますが、一度 95 でブートしなくては
いけませんから、VFAT のフロッピーをコンバートする場合などには余り意味がありませんねぇ。
それに、確か、英語版JAOWにも、そういうツールがあったような無かったような。
ううむ。書けば書くほど、役に立たないような気がしてきた(笑)
<P>
NYAOS の逆クォート対応はなかなか難しそうです。
どうやら、実現するためには、変換パスを一つ多くして、４パスにする必要がありそうです。
一番最初のパス(ヒストリ＋環境変数＋チルダ変換)に、逆クォート変換を入れようかと
考えているのですが、このままですと ヒストリに巨大な出力が入ってしまいます。
で、ヒストリ変換をcshと同じように独立パスにすればいいかなぁと。
<P>
他、NYAOS 1.32-33 でのエンバグが結構見付かったので、修正しています。
eadir のカラーモードで、.LONGNAME が表示されなかったり、Ctrl-C が
効かなくなってしまったりします。

<HR>

<h3><a name="jobs">jobs</a>(12/30)</h3>

ここのところ、ちょっと OS/2 と関係ないことばかり書いて顰蹙を
買ってそうなので、反省して大いに NYAOS のことを書きます。
<P>
今まで「!!」と入力すると「!!」とヒストリに記憶されてしまっていましたが、
「!」を展開した後の文字列で記憶させるようにしました。これだけならいいんです
が、副作用でチルダや環境変数も展開してから記憶するようになってしまいました。
これは、それらを「!」の展開と同じパスで行なっているためです。
面倒なので、新たに「!」展開の為のパスを作りませんでしたが、
リクエストがあれば考えます(考えるだけだったりして:-)。<BR>
　そいで、リクエストのあった「!$」や「!!:n」なども装備しました。
<P>
open でオブジェクトを開く際に同時にアクティブにする方法について、
赤木さんにウインドウリストを調べる方法を教えていただいたのですが、
結局、openではその方法は使わず、同じオブジェクトを二回 open すると
いう技で簡単にすましてしまいました。<BR>
　では、教えてもらった方法はどこにも使わなかったかというと、そうではなく、
それを使って
<ul>
  <li> jobs … ウインドウの一覧を表示する
  <li> fg ウインドウ番号 … 指定したウインドウをアクティブにする
  <li> bg ウインドウ番号 … 指定したウインドウを最小化する
</ul>
という新たな３命令を作りました。なお、csh とは互換性ありません(笑)
<P>
26日の文書で、97年最後の文書と思いきや、それから二回も書いてしまいました。
さすがに明日は書かないと思います。みなさん、良いお年をお迎えくださいませ。

<HR>

<h3><a name="stat.h">stat.h</a>(12/27)</h3>

研究室のワークステーションで、skkfep をコンパイルしようと、
ごちゃごちゃしてたら、標準ヘッダファイルの sys/stat.h で
エラーが阿呆のように出た。なんでかなぁーと思って、less で見てみたら、
<P ALIGN=CENTER>
<FONT SIZE+1 COLOR=#FF00FF>
stat.h の内容が<BR>
葉山のシミュレーション結果に<BR>
化けていた。<BR>
</FONT>
<FONT COLOR=YELLOW>
I-node が腐ってやがる<TT>...</TT>
</FONT>
</P>
ferrari6 <TT>...</TT> また死ぬかもしれません。
それはそうと、NYAOS や ELL に関するページなのに、
最近「近況のページ」と化してます。どうもすみません。

<hr>

<h3><a name="coredump">はははは</a>(12/26)</h3>

昨晩、４回生が来ないと文句をブーブー書いたあと、
研究室の野郎どもと飲みに行く。
へろへろになって、次の日、10:00集合の大掃除に、13:30 に到着する。
おいおい。洒落にならんぞ。言ってることと、やってることがちゃうやんけ！
<P>
1.33 公開の後、NYAOS のコードを全然さわってません(おお、ようやく
敬語に戻った)。1.33 は９７年最終バージョンになりそうです。
そういえば 1.33 は NYAOS 一周年記念バージョンでもあったんですねぇ。
いやはや。
<P>
来年も Nihongo Yet Another Os/2 Shell をよろしくお願いします。

<HR>

<h3><a name="piki">＃＃</a>(12/25pm)</h3>

今日はここ半年で最も一生懸命に研究にとりくんだつもりなのに、先生がいない。
<PRE><FONT COLOR=#FF00FF>
　　　＃＃ (ぴきぴき)
</FONT></PRE>
明日は大掃除なのに、四回生があまり来そうもない。
<PRE><FONT COLOR=#FF00FF>
　　┘└ ┘└ (ぴきぴき)
　　┐┌ ┐┌
</FONT></PRE>
sendmail.cf の設定をミスって、こっそりやっている
生野高校ラヂオ部メイリングリストが暴れだす。
<PRE><FONT COLOR=YELLOW>
　│　│　　　　│　│　
─┘　└─　　─┘　└─ (ぴきぴき)

─┐　┌─　　─┐　┌─
　│　│　　　　│　│　
</FONT></PRE>
ぷしゅぅぅぅぅぅぅぅ(しばし、故障)。

<HR>

<h3><a name="xmas">メリークルシミマス</a>(12/25am)</h3>

くそー、何が悲しゅーて、クリスマスイブに研究室の sendmail の
設定をせにゃならんのじゃー。隣りで、後輩曰く
<P ALIGN=CENTER>
<FONT COLOR="#FF00FF">「今日はインターネット。スムースですねぇ」</FONT>
</P>
うぉぉぉぉぉ、256倍腹が立つー。みんな、外出してるんだろうなぁ。
ちくしょうー。がぁー、きぃぃぃ、ぜいぜい。ふうふう。
<P ALIGN=CENTER>
<FONT COLOR=#00FFFF>=-=-=-=-=-=-=-=-=★</FONT>
</P>
お気に入りの漫画雑誌、月刊アフタヌーンを買う。ふと思う。
<P ALIGN=CENTER>
<FONT COLOR=#FFFF00>「月下の棋士」の作者よ。<BR>
林原めぐみのおっかけなんかするんじゃねー。</FONT><BR>
<FONT COLOR=#FF00FF>
いや、めぐ姉は俺も好きだから、<BR>
全く意義はないけど。
</FONT>
</P>
そのうえ、先月号のアフタヌーンを買い忘れていたことに気付き、
しばし呆然とする葉山であった。
<P ALIGN=CENTER>
<FONT COLOR=#00FFFF>=-=-=-=-=-=-=-=-=★</FONT>
</P>
Netscape でいつものコースを巡回する。Romy さんの OS/2 日記を読む。
Java にはまってらっしゃる様子。以下、一部無断引用。
<PRE>
       しかし、ライブラリの内部に突っ込んでいくのは結構面倒だなぁ...
       <TT>....</TT>って修論は?
</PRE>
それは、言わない約束ですぜ(しかも、勝手にあいづち)。
<P ALIGN=CENTER>
<FONT COLOR=#00FFFF>=-=-=-=-=-=-=-=-=★</FONT>
</P>
1.33 を公開してから、特にバグなどの報告はなし(やっと、NYAOS の話題かい)。
しかし、とある筋より、canna 対応の要請が入る。
売られた喧嘩は買わねばならぬ(売られたのか!?)。
当然ながら、約束する。
今度は、ソケットの勉強しなければいけないなぁ<TT>...</TT><BR>
<TT>...</TT>って修論は?<BR>
<P ALIGN=CENTER>
<FONT COLOR=#FF00FF" SIZE=7>はっ！</FONT>
</P>
P.S.<BR>
ちょっと、今日は精神がいっちゃってますので、
いろいろとお許しください(何をだ)。

<HR>
<img alt="▽" src="/image/s11.gif"><a href="yodan5.html">さらに過去の余談へ</a>
</BODY>
</HTML>
