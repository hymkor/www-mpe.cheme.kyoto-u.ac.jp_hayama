<HTML>
<HEAD><TITLE>YODAN part 10 of NYAOS</TITLE></HEAD>
<BODY bgcolor="#000000" text="#FFFFFF" link="#00FF00"
vlink="#00AA00" alink = "#FF0000">
<TABLE BORDER=10>
<TR><TD><FONT SIZE=+2>葉山文書</FONT><BR>3/5〜3/14の逃走篇</TD>
</TABLE>
<UL>
  <li> <a href="#ferrari6">さらば、我が青春のferrari6</a>(3/14)
  <li> <a href="#teishutsu">修論提出</a>(3/13)
  <li> <a href="#spicy">すぱいしー</a>(3/11)
  <li> <a href="#toomanybug">バグ多発、えらいこっちゃ</a>(3/10)
  <li> <a href="#kakikaki">修論を今書いとります</a>(3/6)
  <li> <a href="#iten">移転を宣言してしまった</a>(3/5)
</UL>
<img alt="▽" src="/image/s11.gif"><a href="yodan.html">目次へ</a>

<HR>

<h3><a name="ferrari6">さらば、我が青春のferrari6</a></h3>

昨夜、修論提出のうちあげが終わりました。
あと一週間ほど、研究室に居るつもりとはいえ、
原則的には、これで卒業が確定したわけです。
一時は(二回目？<a href="#star-1" name="star1"><SUP>*1</SUP></a>)単位が足りなくて、卒業が危ぶまれたものでしたが、
身内の講義をとりまくったおかげで、何とか「前代未聞の修士課程三回生」
は回避することができました。研究についても、
一応は、発泡研究<a href="#star-2" name="star2"><SUP>*2</SUP></a>では画期的な(気がする)結果を出すことができたし、
「まぁ、よし！」といえると思います。
<P>
最近、空を見る度に、自分が京都に居る日数を考えてしまいます。
京都の空というのは「町なのに広い」独特の空だと勝手に思ってます。
実家の羽曳野はまだ田舎で確かに空は広いんですけど、
それは何も無いから広いんで、それはあたりまえなんですよね。
大阪市内と違って、街中なのに、高層建築が無くて空が広いっていうのは、
僕には「都(みやこ)の優雅さ」に思えました
(まぁ、他の街を知らんからなんですけどね)。
この空を見てられるのも、あと1,2週間なんですよね<a href="#star-3" name="star3"><SUP>*3</SUP></a>(ウルウル)。
<P>
大学に入って、最初の3年間は、京大マイコンクラブで、
へこへこプログラムを作っていました。
ここで、UNIX と OS/2 と SKK を知ったんです。
部室には入部当時から LUNA が 2 台、SPARC が 1 台あって、
これで UNIX を勉強させてもらいました。
と書くと結構豊かなんだなと思われるかもしれませんが、
これらは借りものだったし、クラブの台所は部室の家賃の支払いなどで
結構火の車だったと聞きます(今もですけど)。
<P>
OS/2 は、warp/index.html に書いているので、御存知だと思いますが、
このクラブの有馬さんという人に洗脳されて 2.11β<a href="#star-4" name="star4"><SUP>*4</SUP></a> をフロッピーに
落してもらったのがきっかけです。
当時、Diamond Computer System と XFree86 が喧嘩をしていて、
僕の持っていた Stealth 24 では Linux とか FreeBSD とかは出来なかったんですよね(T_T)。
その Stealth 24 で、DISPS3.EXE による V-Text を堪能していたのですが、
2.11 では、その V-Text 環境がそのまま利用できて、
「へぇー、OS/2 って象が踏んでも壊れないほど、VDM が強いんだなぁ」
と感動しました<a href="#star-5" name="star5"><SUP>*5</SUP></a>。
まぁ、UNIX は NetNews を読んだり、メイルを書く程度で、
まだまだ、バリバリの DOS 野郎だったわけです。
<P>
修士課程になって、現在の「<a href="http://www-mpe.cheme.kyoto-u.ac.jp/">材料プロセス工学研究室</a>」に配属されました。
非常に幸運だったのは、同じ年にこの研究室にシミュレーション用Sun互換機が初めて4台導入されて、
root として管理を任してもらえたことです。
もう、調子に乗ってインストールしまくり。Emiclock やら xtetris やら、
fvwm95 とか。Solaris 2.4 だったので、一筋縄ではいきませんでしたけど、
その分、コンパイルがうまくいったときの感動はひとしおで、
先生に「コンピューターで遊んでばっかりいてたら、あかんで」と怒られたくらいでした(これはこたえた)。
<P>
このころには言うまでもなく tcsh にシャブ漬け<a href="#star-6" name="star6"><SUP>*6</SUP></a>になっていました。
当然、OS/2 にも tcsh を望むわけですけど、英語版tcsh は日本語ファイル名を
内蔵 ls (「ls-F」てやつ) でサポートしていませんでしたし、
何よりコマンドファイル(*.CMD)を実行できない(シェルスクリプトだと思いやがる)
のは致命的でした。で、いろいろ探したあげく見付けたのが「YAOS」。
でも、こいつ、補完がみっともないんですよねー。侯補がキャラクタウインドウで
表示されるのはいいんだけど、枠がカナ文字。原因は分かりますよね。
<P>
ところが、こいつ「DIR」はちゃーんと日本語で表示されるんです。
ソースを見たわけじゃないんですけど、ぴーんときました。
「これって、system関数に命令を渡してるだけやないんかい？
そのやり方なら、儂にも真似できるんやないかい。
おお、これできたら、すごいやん。もしかしたら有名になれるかも」
(何回も書いてるなぁー、これって、すみません)
<P>
その後の事は結構御存知だと思いますので、割愛しますけど、
この NYAOS が僕の京都の6年間の最後を飾ってくれたと思います。
僕は、すがやみつるの「こんにちはマイコン」を見て、
コンピューターにはまったくちなんですが、
心にはいつも「その筋での有名人になる」という野望を持っていました。
でも、単にプログラムできる能力があるだけじゃ、だめなんですよね。
自分のできる範囲で、誰もやっていないことをやらなきゃ、
すでにあるものを作っても仕方ないんです<a href="#star-7" name="star7"><SUP>*7</SUP></a>。
そういう点で、OS/2 というのは理想な環境だったと思います。
そう、需要は多いのに、供給が少ない。フリーソフトウェア作者の
最後のフロンティア。それが OS/2 だったわけです。
で、まんまとその筋で有名になれました。みなさん、ありがとうございます。
「我が人生に一辺の悔いない」です、はい<a href="#star-8" name="star8"><SUP>*8</SUP></a>。
<P>
NYAOS を発表してから、いろいろな方々からメイルをいただきました。
人づきあいの下手な僕にとって、それらがどんなに嬉しかったことやら。
そんな人々と僕を継いでくれたのがネットワークと ferrari6 でした。
(なんか、強引な話の展開だなぁ...(笑))
その ferrari6 とも、ぼちぼちお別れです。
<P>
就職したら、UNIX や OS/2 に触れられるのでしょうか、NT やら 95 ばかりに
携わらなくてはいけないのでしょうか。それは今の時点では分かりません。
この一年は NYAOS をモーレツにバージョンアップすることができました。
ベクターデザインの方に ferrari6上の代わりのWebページをもらいましたが、
今まで通りにバージョンアップできるかどうか全く分かりません。
もしかしたら、半年、一年バージョンアップできないかもしれません。
もしそうなったら、僕はきっと ferrari6 を介して、
いろんな人とメイルのやりとりをしたこの一年をよく思い出すことになるんでしょうねぇ。
<P>
って、勝手に NYAOS のサポートの終結宣言をしては、みなさん怒りますよね(笑)。
つい感傷的になってしまいましたが、僕にはまだまだ、ファイラーやら
エディターを作るという野望もありますし、NYAOS とて公約の一つ SKK を未だサポートしていません。
いくら職場が忙しいといっても日曜出勤ということは無いでしょうし(えっあるの？！)、
むしろ、定期的にまとまった時間でプログラミングできるということで、
効率が上がるかもしれません。まぁ、こればかりは蓋を開けなきゃ、分かりませんね。
<P>
「我が青春のferrari6」。これは、かなり前から考えていたフレーズです。
ferrari6 は Solaris ですから、当然、NYAOS は動きませんが、
NYAOS をネットワークへ発信してくれたマシンでした。
NYAOS サポートページの方はベクターのサイトの方へ引越しましたけど、
葉山文書の方は、ここしばらくは ferrari6 で更新していました。
しかしいつまでも ferrari6 の上に安住するわけには行きません。
だって、また、いつハードディスククラッシュするか分からないし(爆)<a href="#star-9" name="star9"><SUP>*9</SUP></a>
<P>
そういうわけで、ferrari6 の上での葉山の日記シリーズ
(「近況」「余談」「文書」)の更新はこれでおしまいです。
次回からはベクターのサイトの方で書き始めます。
鳥頭なもんで、同じことをしつこく何回も書いたり、
少々思い上がったことを書いたりして、お気を悪くしたこともあったかもしれません。
そんなページを(凝りもせず、あ、失礼)、読んでいただいて、誠にありがとうございました。
<P>
さらば京都大学、さらば化学工学、さらば我が青春の ferrari6。さらば「日々、これ勉強の毎日」よ。
はずしたところで、お後がよろしいようで...
<P>
<dl compact>
  <dt> <a name="star-1" href="#star1">*1</a>
  <dd> 実は、4回生の時は、今以上に単位が危く、奇跡の卒業と言われた。
  <dt> <a name="star-2" href="#star2">*2</a>
  <dd> 修論は「高分子樹脂中での物理発泡現象の計算機シミュレーション」といいます。
       ポリマー樹脂中にたくさん気泡を含ませる時に、どんなサイズの気泡がどれだけ
       できるのかをシミュレーションするってーのをやっていました。
       気泡がたくさん入ってると、当然ながら軽くなるし、絶縁性や断熱性が上がるんですよね。
  <dt> <a name="star-3" href="#star3">*3</a>
  <dd> そういえば、sukisuki-os/2 には romy さんとか、比較的Ｍ２の方が多いんですよね。
       こんな弱音というか、寝言を吐いているのは僕だけなんだろうなぁ(笑)
  <dt> <a name="star-4" href="#star4">*4</a>
  <dd> DOS/V magazine の付録CD-ROM に入ってたやつです。
  <dt> <a name="star-5" href="#star5">*5</a>
  <dd> その後、Warp 3 になってから、DISPS3 が使えなくなってしまい、
       仕方なしに DOS/V Extension を買いました。
  <dt> <a name="star-6" href="#star6">*6</a>
  <dd> 今はbash使いとして更正し、nyaosの売人として立派に...
  <dt> <a name="star-7" href="#star7">*7</a>
  <dd> あと行動力も重要ですよね。それも無いんですよね、僕は。
  <dt> <a name="star-8" href="#star8">*8</a>
  <dd> 北斗の拳の影響が見られるが、それ以前に漢字があってるか心配である。
  <dt> <a name="star-9" href="#star9">*9</a>
  <dd> コンセント抜くんじゃないよ、まったくぅぅぅ。
</dl>

<HR>

<h3><a name="teishutsu">修論提出</a>(3/13)</h3>

先程、修論を提出しました。でも内容的に、ちょっと書き足らないので、
来週いっぱいで書き直して、差し変えようかと考えてます。
<P>
上野さんがおっしゃった通りに、DosLoadModule/DosQueryProcAddr とか
を用いたところ、あっさりと canna.dll が無くても起動する、
かんな対応NYAOS.EXE ができました
(もちろん、canna.dll が無いと漢字変換はできません)。
というわけで、次のバージョンから、また「かんにゃおす」と「NYAOS」は
統合されます。ころころ、かわってすみません。
<P>
あと、シングルクォートをダブルクォートに変換するようにしました。
今まで無かった方が不思議でしたね。変換するだけなんで、
機能的な違いはないんですけど、一応
<PRE>
    '...&quot;...' → &quot;...&quot;&quot;...&quot;
    &quot;...'...&quot; → &quot;...'...&quot;
</PRE>
みたいに、クォートの内外は意識させてます。
<P>
今のところ、CONFIG.SYS で NYAOS を COMSPEC にできるように、
起動した時に COMSPEC を CMD.EXE に書き変えるようにしているんですけど、
これではいろいろと問題が多そうなんで、system(&quot;...&quot;); を
spawnlp(P_WAIT,&quot;CMD.EXE&quot;,&quot;CMD&quot;,&quot;/C&quot;
,...,NULL);に書き変えるようにしています。
これと、popen を自前で用意すれば、 環境変数COMSPEC の意味が
少くともNYAOS内では無くなるんで、バグの温床も減ると思うのですがね。


<HR>

<h3><a name="spicy">すぱいしー</a>(3/11)</h3>

どうも、カレーのダブル大盛りを食べてから、胃の調子がとても悪いっす。
単に食べ過ぎなのだが、21時間後の今もシクシク痛いのは何故？
<P>
NYAOS は、ノーマルな NYAOS と、かんな対応の CANNYAOS(かんにゃおす) に分
けてしまいました。
CANNYAOS が canna.dll が無いと起動できない為であるが、結果的には、
これでよかったと思う。次は いよいよ SKK をサポートして、
SKKNYAOS(すけにゃおす)を加えたいものです(口先三寸100%)。
<P>
しかし、CANNYAOS ってスペル長いなぁ。

<HR>

<h3><a name="toomanybug">バグ多発。えらいこっちゃ</a>(3/10)</h3>

「かんにゃおす」は、これまでに無いほど、バグを出してしまいました。
さすがに、ちょっと洒落にならんので、バイナリパッケージの配布を
停止してしまいました。といっても、nyaos.html の方でリンクを
外しただけなので、URL で直接指定すれば、ダウンロードできてしまうのですがね。
ソースパッケージはそのままですけど。
<P ALIGN=CENTER>
<FONT COLOR=YELLOW>≡★</FONT>
</P>
ところで、就職先は TIS なんですけど、勤務地は京阪神地区(大阪江坂)なんです。
なぜかは知らないのですが、TIS って二社本社制とかいって、
東京も本社だし、大阪も本社らしいです。
東京へは入社式の時に一度行くことにはなりそうですが。
う〜む、ちょっと、これでは筑波の方々と会えそうもないかな...
<P>
最近、OS/2 Warp情報局 や UNOさんのページが更新停止状態になってしまって、
Warp関係で、更新頻度の高いサイトが Romy さんとこだけになってしまった。
ちょっと、さびしいですねぇ。
<P ALIGN=CENTER>
<FONT COLOR=YELLOW>≡★</FONT>
</P>
Ｈソフトの主人公の名字に「葉山」が多いのは、なぜ？
それにＨコミックの女の子の名字にも「葉山」というのがあったぞ。
なんでだぁぁぁー。
<P>
それはともかく、東京三菱銀行の副頭取の方と同性同名らしい。
悪事を働くと迷惑がかかるので、気をつけねばならんのぉ。

<HR>

<h3><a name="kakikaki">修論を今書いとります</a>(3/6)</h3>

修論を今、書いているとは、変と思われるかもしれません。
そう、化学工学教室では、まず発表日の方が、論文提出日より先にやってくるのです。
というわけで、今、ちゃかちゃか、Cut and Paste をしております。
(嘘をつけ、Web Page を書いとるではないか)
<P>
しかし、発表の前後で思いましたが、僕はつくづく story の作り方が下手なので、
今度は人の論文を見ながら、章立てとかをよく考えて...
と思っていたら「温度による発泡ちゃんとやってね」って、先生。うーむ。
締切はあと一週間なんだけど、大丈夫かなぁ...
<P>
修論発表が終わったら、さぞ思う存分、コードが書けるだろうと思ったが、
今一、やる気が起きない。やはり、貴重な時間だからこそ、浪費する価値も
あるのだろうか。奥が深い。<BR>
<BLOCKQUOTE>
(補足)
すみません。バグリポートをさらにもらったら、やる気出ました。本当です。
信じてください。
</BLOCKQUOTE>
<P>
NYAOS 1.36 は「gcc -O2 -g」のまま、Release してしまった。
一生とは言わんが、ここ2,3週間の不覚である(反省しとらん)。
1週間以内に bugfix をRelease しますんで。お許しを。
<P>
しかし、自分で言うのも何だが、
約30回ほどのバージョンアップで、なんだかんだ言って、
公約のほとんどをクリアしたのは大したもんだ。
REXX のサポートとか、「かんな」とか、最初は、
出来もせん(と思っていた)ことを口、もとい、キーから出まかせで
書いたんだもんなぁ。
<P>
でも、この二つについては、それぞれの API が非常に使い易かったちゅうのが
真相であります。REXX については、ファイルの先頭が「/*」だというのが
分かり次第、APIにそのファイル名とコマンドインタープリタルーチン（execute()）
のアドレスを渡しているだけだし、かんなもキー入力ルーチン Edlin2::getkey()
の中に hook をかけるだけで済んだわけですし。
優秀なシステム(もち、REXX や かんな の事)は、
クライアントソフトが非常に書き易いもんですねぇ。
<P>
あと、大きい山で、達成していないことといえば、CMD.EXE からの独立と、
SKK のサポートですね。CMD.EXE からの独立は、その後、パイプの作り方とか、
分かりましたから可能なんですけど、何といってもコード変更量の割に
メリットが少ない。少々、速くなる程度では、誰でもバグの多いバージョンより、
今までのものを選ぶことでしょう。
<P>
でも、本音は、抜本改革と称して、全部書き換えたいんです。
NYAOS は、大きくエディター部とインタプリタ部に分かれているんですけど、
今、その両方に構造的欠陥が見付かってしまってまして...
エディター部は結局他のプログラムから利用しにくいし、
インタプリタは無理にCMD.EXEへのプリプロセッサ構造にしたばっかりに、
リダイレクト/パイプまわりが非常に汚なくなっているし(使いにくいとは
言わないが、美意識が..)。
でも、これらって、表面上、全然問題にならないんですよね。
それどころか、構造改革をすると、かえって、仕様的に後退する事の方が多いという..
こりゃ、もう無理ですねぇ。
<P>
SKK については、ねぇ、skkfep とか skkinput を get はしたんですけど、
どういうものか、コード自身を全然見とりません。
skkserv のコンパイルからやらなきゃと思ってたら、この手の移植に関しては
達人の上野 博さんがコンパイル済みのバイナリを公開されました。
うーん、ナイスタイミング(笑) (へ、自爆!?)
<P>
そうそう、このページを読んで、その上野さんが canna.dll を作ってくださった
そうです(現在テスト中でしたよね？)。なんか、ものすごく恐縮の至り。
だって、考えてみたら、自分のプログラムのサイズが大きくなるから、
DLL 作ってだなんて、かなり、わがままだったなぁと...
どうも、ありがとうございます。
<P>
京都も、あと2週間すれば去るというのに、まだ全然、夜逃げ、もとい、
引越しの用意ができてないなぁ。いや、それ以前に、掃除すらしてない。
いかんなー。
<P>
ぼちぼち、移転が進む、この「はやまったページ」。
就職したら、今ほど、頻繁に更新できないかもしれません。
だって、会社のページの社員の声のところを見ると、
「暇がな〜い、暇がな〜い」という魂の叫びが聞こえてきますもの。
まぁ、忙しいということは、繁盛しているということですから、
将来に渡って安泰ということで喜ぶべきことですが。
<P>
だが、しかし(ダンッ！)。
肩書が「大学院生」から「社会人/サラリーマン/SE」になろうと、
僕は、それ以前に「プログラマー」でありたいと思うのであります
(できれば、ハッカーって呼ばれるくらいになりたいもんですけどね。
でも、cat でデバイスドライバーは書けんよなぁ、どうしても)。
<P ALIGN=CENTER>
<FONT SIZE=+1 COLOR=#FF00FF>でも、本当にそれでいいのぉぉぉ</FONT>
</P>
# 何か、回転させたいような気が...

<HR>

<h3><a name="iten">移転を宣言してしまった</a>(3/5)</h3>

ひゅー、ようやっと、修論の発表が終わり、時間に余裕ができました。
ご心配をおかけしましたが、何とか、つつがなく終わりました ＞ 宇野さん<BR>
＃ 「つつが」って何だぁ<BR>
あと、これから、論文自体を提出しなければいけないんですけどね。
化学工学教室のスケジュールが、ここまで後にズレているのは、
4回生が半年で卒論をあげなくてはいけないのに合わせているんですね。
というのも、うちでは、4回生の前期で、プロセス設計という、
プラントを設計するような事を、卒論前哨戦みたいな感じで、
やるもんで、それで、本ちゃんの、卒論の為の研究期間が
短かくなってしまうんです。
<P>
で、「かんにゃおす」をついに正式 Release しました。
公開は今回から、<BR>
http://www.vector.co.jp/authors/VA009797/warp/nyaos.html<BR>
のみです。旧ページもまだ残っているんですけどね。
とりあえず、warp 関連をゴソっと移動しましたが、
この「葉山文書」のみは、頻繁に変更を行うつもりなんで、
まだ ferrari6 に置いていますけど、これもそのうち、移転しますけど。
<P>
ということで、リンクされている方は、
<ul>
  <li> いや、はやまったページ<BR>
       → http://www.vector.co.jp/authors/VA009797/
  <li> Nihongo Yet Another Os/2 Shell Support Page<BR>
       → http://www.vector.co.jp/authors/VA009797/warp/nyaos.html
</ul>
へのリンクの書き換えをよろしくお願いいたします。
ただで 5MB、提供してくれた、Vector Design さんに感謝(しつこい？)。
<a href="http://www.tis.co.jp">就職先</a>がいくらインターネットプロバイダ業も
やっているからといって、社員にまでウェブページを持たせてくれるとは
あまり考えられませんからねぇ。それに NYAOS は、あくまでプライベートな事ですしね。
しかし、就職面接の時は、ちゃっかり、NYAOS のことに言及してしまった。
いや、最初、言うつもりはなかったんですけど「高校・大学でクラブを通じて、
コンピューターに親しみ...」って言ったら、芋蔓式に白状させられてしまったんです。
あ、会社から公式に認められて、IBMEWS ならぬ、TISEWS になってもいいかも
(TISは就職先:東洋情報システムの略称です)。
でも、絶対、売りもの/シェアウェアにはしませんので、御安心を。
<P>
しかし、ftp で WWW の内容を転送するのって、思ったよりも
手間がかかりますねぇ。みなさん、効率のよいやり方を開発されているのかしらん。
今まで、自分のホームディレクトリの下のディレクトリ(~/html)を、Mule で直接いじくれば、
Save した途端に反映されるので、むちゃくちゃ楽だったんですけどね。
おかげで、編集途中の文書も、読まれてしまっていますね(笑)
<P>
宇野さんのページが読めなくなって、悲しいぃぃぃ。
巡回路の一つがなくなってしまった。
半月ほどの我慢でしたっけ？
今まで、宇野さんとこ → Romy さんとこ → OS/2 情報局 → 中村正三郎さんとこ
てな感じで巡回してたんですが...あれ、誰かさんの巡回路とダブっているような(笑)
あ、関係無いんですが、Romy さんの誕生日(1972/5/29)って、私と同じではないですか(年も！)。
びっくりしました。ううむ、どうりで、ウテナの波動がよく伝わると思った(ナニカチガウ)。
<P>
今月の一言？ 決まってるじゃないですか
<P ALIGN=CENTER>
<FONT COLOR=RED SIZE=+1>「俺は学生をやめるぞぉぉぉぉ、ジョジョォォォォ」</FONT>
失礼いたしました。

<HR>
<img alt="▽" src="/image/s11.gif"><a href="yodan8.html">さらに過去の余談へ</a>

</BODY>
</HTML>